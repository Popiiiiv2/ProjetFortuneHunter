using UnityEditor;
using UnityEngine;

[InitializeOnLoad]
public class ClassLoaderChecker
{
    static ClassLoaderChecker()
    {
        EditorApplication.update += CheckClassLoading;
    }

    private static void CheckClassLoading()
    {
        // Vérifiez si toutes les classes nécessaires ont été chargées
        if (AllClassesLoaded())
        {
            Debug.Log("Toutes les classes ont été chargées.");
            EditorApplication.update -= CheckClassLoading; // Arrêtez de vérifier une fois que toutes les classes sont chargées
        }
    }

    private static bool AllClassesLoaded()
    {
        // Vérifiez si chaque classe nécessaire a été chargée en utilisant Type.GetType
        // Si une classe n'a pas pu être chargée, retournez false

        // Exemple :
        bool class1Loaded = Type.GetType("Namespace.Class1") != null;
        bool class2Loaded = Type.GetType("Namespace.Class2") != null;

        return class1Loaded && class2Loaded; // Retourne true si toutes les classes sont chargées
    }
}